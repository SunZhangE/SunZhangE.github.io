---
layout:      post
title:       「基础知识点」默认路由、默认网关、默认网段之间的区别
date:        2019-08-13
author:      Zhy
header-style: text
tags:
    - 网络
    - 基础知识点
---









> 默认路由、默认网关，二者的功能都是“找不到地址，走默认”但是一个是默认路由，一个是默认网关？看似一样的东西，初学者很容易陷入其中的“牛角尖”之中

1）IP Default-Gateway

这条命令，相信都很熟悉，在PC中，通常都需要配置网关，除了目的地址在本网段的数据包直接发到目的地之外，其他所有数据包都发给网关处理。

而有的时候，基于种种原因，路由器不可能获知网络中的每一个网段，所以这时，路由器也需要向PC一样配置网关（和默认路由有着差别哈），将所有未知目标地址的数据包全部交给网关。

通过在路由器上配置IP Default-Gateway加上IP地址，可以手工为路由器制定一个默认网关，该默认网关的作用与PC完全相同。而命令IP Default-Gateway只有在路由器**关闭**路由功能后（命令：no ip routing)，才能使用，如果路由器处于BOOT模式时（类似于电脑的PE模式）同样也可以通过该命令配置网关，这样便可以帮助路由器，像TFTP那样传输文件。



---

2）默认路由：

为路由器配置默认网关时，IP Default-Gateway只能在关闭路由功能后起作用，在路由功能开启的情况下，通过命令IP route 0.0.0.0 0.0.0.0  也可以为路由器配置默认网关。

而两者的区别在于，IP Default-Gateway只能在路由功能关闭时工作，并且一台路由器职能配置一条，而默认路由可以在路由功能开启时工作，一条路由器可以配置多条默认路由。



---



3）IP Default-Network

为路由器配置默认网关的方式除了上述两种外，还有IP Default-Network，不同之处在于，IP Default-Gateway只能工作在非路由模式下，而默认路由可以工作在路由模式下，但不会被动态路由协议传递给邻居，如果使用IP Default-Network，则被本命令所定义的网络将成为路由器的默认网关，所有未知目标的数据包全部发往该网络，IP Default-Network的不同之处是它所定义的是默认网关，会**自动被动态路由协议传递，**能够自动传递IP Default-Network默认网关的路由协议有，RIP，IGRP,EIGRP，而OSPF和IS-IS不会传递。

注：IP Default-Network 仅支持主类路由，所以不多做介绍。







---

总结：

1. 默认网关和默认路由，分别处以7层和3层。

2. 默认网关是给一个子网指定网关地址。默认路由是配置在边界路由器上。用以向外部转发局域网以外的网络数据。